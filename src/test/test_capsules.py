

import sys
sys.path.append('../')
import spacexpython


def test_capsules():
    capsules_result= [{u'status': u'retired', u'landings': 0, u'missions': [{u'flight': 7, u'name': u'COTS 1'}], u'original_launch_unix': 1291822980, u'original_launch': u'2010-12-08T15:43:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C101', u'capsule_id': u'dragon1', u'type': u'Dragon 1.0', u'details': u'Reentered after three weeks in orbit'}, {u'status': u'retired', u'landings': 1, u'missions': [{u'flight': 8, u'name': u'COTS 2'}], u'original_launch_unix': 1335944640, u'original_launch': u'2012-05-02T07:44:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C102', u'capsule_id': u'dragon1', u'type': u'Dragon 1.0', u'details': u'First Dragon spacecraft'}, {u'status': u'unknown', u'landings': 1, u'missions': [{u'flight': 9, u'name': u'CRS-1'}], u'original_launch_unix': 1349656500, u'original_launch': u'2012-10-08T00:35:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C103', u'capsule_id': u'dragon1', u'type': u'Dragon 1.0', u'details': u'First of twenty missions flown under the CRS1 contract'}, {u'status': u'unknown', u'landings': 1, u'missions': [{u'flight': 10, u'name': u'CRS-2'}], u'original_launch_unix': 1362165000, u'original_launch': u'2013-03-01T19:10:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C104', u'capsule_id': u'dragon1', u'type': u'Dragon 1.0', u'details': None}, {u'status': u'unknown', u'landings': 1, u'missions': [{u'flight': 14, u'name': u'CRS-3'}], u'original_launch_unix': 1397849100, u'original_launch': u'2014-04-18T19:25:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C105', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'First Dragon v1.1 capsule'}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 18, u'name': u'CRS-4'}, {u'flight': 41, u'name': u'CRS-11'}], u'original_launch_unix': 1411278720, u'original_launch': u'2014-09-21T05:52:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C106', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'First Dragon capsule to be reused'}, {u'status': u'unknown', u'landings': 1, u'missions': [{u'flight': 19, u'name': u'CRS-5'}], u'original_launch_unix': 1420883220, u'original_launch': u'2015-01-10T09:47:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C107', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': None}, {u'status': u'active', u'landings': 3, u'missions': [{u'flight': 22, u'name': u'CRS-6'}, {u'flight': 51, u'name': u'CRS-13'}, {u'flight': 82, u'name': u'CRS-18'}], u'original_launch_unix': 1429042200, u'original_launch': u'2015-04-14T20:10:00.000Z', u'reuse_count': 2, u'capsule_serial': u'C108', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'Second Dragon capsule to be reused'}, {u'status': u'destroyed', u'landings': 0, u'missions': [{u'flight': 24, u'name': u'CRS-7'}], u'original_launch_unix': 1435501260, u'original_launch': u'2015-06-28T14:21:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C109', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'Destroyed on impact after F9 launch failure'}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 28, u'name': u'CRS-8'}, {u'flight': 59, u'name': u'CRS-14'}], u'original_launch_unix': 1460148180, u'original_launch': u'2016-04-08T20:43:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C110', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': None}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 32, u'name': u'CRS-9'}, {u'flight': 64, u'name': u'CRS-15'}], u'original_launch_unix': 1468817100, u'original_launch': u'2016-07-18T04:45:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C111', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': None}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 36, u'name': u'CRS-10'}, {u'flight': 72, u'name': u'CRS-16'}], u'original_launch_unix': 1487515140, u'original_launch': u'2017-02-19T14:39:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C112', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': None}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 45, u'name': u'CRS-12'}, {u'flight': 78, u'name': u'CRS-17'}], u'original_launch_unix': 1502728260, u'original_launch': u'2017-08-14T16:31:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C113', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'The last newly manufactured Dragon 1'}, {u'status': u'active', u'landings': 1, u'missions': [{u'flight': 76, u'name': u'CCtCap Demo Mission 1'}], u'original_launch_unix': 1551512700, u'original_launch': u'2019-03-02T07:45:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C201', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u'Destroyed in a test anomaly at LZ-1 on April 20, 2019'}, {u'status': u'active', u'landings': 0, u'missions': [], u'original_launch_unix': None, u'original_launch': None, u'reuse_count': 0, u'capsule_serial': u'C202', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u"Capsule used to qualify Dragon 2's environmental control and life support systems."}, {u'status': u'active', u'landings': 0, u'missions': [], u'original_launch_unix': None, u'original_launch': None, u'reuse_count': 0, u'capsule_serial': u'C203', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u'Rumored to be used for Inflight Abort Test after DM-1'}, {u'status': u'active', u'landings': 0, u'missions': [], u'original_launch_unix': None, u'original_launch': None, u'reuse_count': 0, u'capsule_serial': u'C204', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u'Currently in construction for use in DM-2'}, {u'status': u'active', u'landings': 0, u'missions': [], u'original_launch_unix': None, u'original_launch': None, u'reuse_count': 0, u'capsule_serial': u'C205', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u'In construction for use in first mission in contract under the CCtCap contract'}]
    capsules_data = spacexpython.capsules.capsules()
    print ("Failure on all capsules")
    assert capsules_data == capsules_result

def test_upcoming():
    upcoming_result=[{u'status': u'active', u'landings': 0, u'missions': [], u'original_launch_unix': None, u'original_launch': None, u'reuse_count': 0, u'capsule_serial': u'C202', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u"Capsule used to qualify Dragon 2's environmental control and life support systems."}, {u'status': u'active', u'landings': 0, u'missions': [], u'original_launch_unix': None, u'original_launch': None, u'reuse_count': 0, u'capsule_serial': u'C203', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u'Rumored to be used for Inflight Abort Test after DM-1'}, {u'status': u'active', u'landings': 0, u'missions': [], u'original_launch_unix': None, u'original_launch': None, u'reuse_count': 0, u'capsule_serial': u'C204', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u'Currently in construction for use in DM-2'}, {u'status': u'active', u'landings': 0, u'missions': [], u'original_launch_unix': None, u'original_launch': None, u'reuse_count': 0, u'capsule_serial': u'C205', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u'In construction for use in first mission in contract under the CCtCap contract'}]
    upcoming_data = spacexpython.capsules.upcoming()
    print ("Failure on upcoming capsules")
    assert upcoming_data == upcoming_result

def test_past():
    past_result=[{u'status': u'retired', u'landings': 0, u'missions': [{u'flight': 7, u'name': u'COTS 1'}], u'original_launch_unix': 1291822980, u'original_launch': u'2010-12-08T15:43:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C101', u'capsule_id': u'dragon1', u'type': u'Dragon 1.0', u'details': u'Reentered after three weeks in orbit'}, {u'status': u'retired', u'landings': 1, u'missions': [{u'flight': 8, u'name': u'COTS 2'}], u'original_launch_unix': 1335944640, u'original_launch': u'2012-05-02T07:44:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C102', u'capsule_id': u'dragon1', u'type': u'Dragon 1.0', u'details': u'First Dragon spacecraft'}, {u'status': u'unknown', u'landings': 1, u'missions': [{u'flight': 9, u'name': u'CRS-1'}], u'original_launch_unix': 1349656500, u'original_launch': u'2012-10-08T00:35:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C103', u'capsule_id': u'dragon1', u'type': u'Dragon 1.0', u'details': u'First of twenty missions flown under the CRS1 contract'}, {u'status': u'unknown', u'landings': 1, u'missions': [{u'flight': 10, u'name': u'CRS-2'}], u'original_launch_unix': 1362165000, u'original_launch': u'2013-03-01T19:10:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C104', u'capsule_id': u'dragon1', u'type': u'Dragon 1.0', u'details': None}, {u'status': u'unknown', u'landings': 1, u'missions': [{u'flight': 14, u'name': u'CRS-3'}], u'original_launch_unix': 1397849100, u'original_launch': u'2014-04-18T19:25:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C105', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'First Dragon v1.1 capsule'}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 18, u'name': u'CRS-4'}, {u'flight': 41, u'name': u'CRS-11'}], u'original_launch_unix': 1411278720, u'original_launch': u'2014-09-21T05:52:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C106', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'First Dragon capsule to be reused'}, {u'status': u'unknown', u'landings': 1, u'missions': [{u'flight': 19, u'name': u'CRS-5'}], u'original_launch_unix': 1420883220, u'original_launch': u'2015-01-10T09:47:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C107', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': None}, {u'status': u'active', u'landings': 3, u'missions': [{u'flight': 22, u'name': u'CRS-6'}, {u'flight': 51, u'name': u'CRS-13'}, {u'flight': 82, u'name': u'CRS-18'}], u'original_launch_unix': 1429042200, u'original_launch': u'2015-04-14T20:10:00.000Z', u'reuse_count': 2, u'capsule_serial': u'C108', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'Second Dragon capsule to be reused'}, {u'status': u'destroyed', u'landings': 0, u'missions': [{u'flight': 24, u'name': u'CRS-7'}], u'original_launch_unix': 1435501260, u'original_launch': u'2015-06-28T14:21:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C109', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'Destroyed on impact after F9 launch failure'}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 28, u'name': u'CRS-8'}, {u'flight': 59, u'name': u'CRS-14'}], u'original_launch_unix': 1460148180, u'original_launch': u'2016-04-08T20:43:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C110', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': None}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 32, u'name': u'CRS-9'}, {u'flight': 64, u'name': u'CRS-15'}], u'original_launch_unix': 1468817100, u'original_launch': u'2016-07-18T04:45:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C111', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': None}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 36, u'name': u'CRS-10'}, {u'flight': 72, u'name': u'CRS-16'}], u'original_launch_unix': 1487515140, u'original_launch': u'2017-02-19T14:39:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C112', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': None}, {u'status': u'active', u'landings': 2, u'missions': [{u'flight': 45, u'name': u'CRS-12'}, {u'flight': 78, u'name': u'CRS-17'}], u'original_launch_unix': 1502728260, u'original_launch': u'2017-08-14T16:31:00.000Z', u'reuse_count': 1, u'capsule_serial': u'C113', u'capsule_id': u'dragon1', u'type': u'Dragon 1.1', u'details': u'The last newly manufactured Dragon 1'}, {u'status': u'active', u'landings': 1, u'missions': [{u'flight': 76, u'name': u'CCtCap Demo Mission 1'}], u'original_launch_unix': 1551512700, u'original_launch': u'2019-03-02T07:45:00.000Z', u'reuse_count': 0, u'capsule_serial': u'C201', u'capsule_id': u'dragon2', u'type': u'Dragon 2.0', u'details': u'Destroyed in a test anomaly at LZ-1 on April 20, 2019'}]
    past_data = spacexpython.capsules.past()
    print ("Failure on past capsules")
    assert past_data == past_result
